# æ•°å­¦æ¼«ç”»ç”Ÿæˆå™¨ - æ•…éšœæ’é™¤æŒ‡å—

## ğŸš¨ å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### 1. Bootstrap JavaScripté”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
ReferenceError: bootstrap is not defined
```

**åŸå› **: ä»£ç ä¸­ä½¿ç”¨äº†Bootstrap JavaScriptç»„ä»¶ï¼Œä½†Bootstrap JSåº“æœªæ­£ç¡®åŠ è½½ã€‚

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ç®€å•çš„JavaScriptå®ç°æ›¿ä»£Bootstrapä¾èµ–ï¼š
```javascript
// æ›¿æ¢ Bootstrap Toast å®ç°
window.showToast = (toastId) => {
    const toastElement = document.getElementById(toastId);
    if (toastElement) {
        toastElement.style.display = 'block';
        toastElement.classList.add('show');
        setTimeout(() => {
            toastElement.style.display = 'none';
            toastElement.classList.remove('show');
        }, 3000);
    }
};
```

### 2. APIè¿æ¥å¤±è´¥

**é”™è¯¯ç°è±¡**: ç‚¹å‡»"ç”Ÿæˆæ¼«ç”»"æŒ‰é’®æ²¡æœ‰å“åº”

**å¯èƒ½åŸå› **:
- APIæœåŠ¡æœªå¯åŠ¨
- Webé¡¹ç›®APIåŸºåœ°å€é…ç½®é”™è¯¯
- ç«¯å£å†²çª

**è§£å†³æ–¹æ¡ˆ**:
1. **åŒæ—¶å¯åŠ¨APIå’ŒWebæœåŠ¡**:
   ```bash
   # æ–¹æ³•1: ä½¿ç”¨å¯åŠ¨è„šæœ¬
   start-dev.bat  # Windows
   ./start-dev.sh # Linux/Mac
   
   # æ–¹æ³•2: æ‰‹åŠ¨å¯åŠ¨
   # ç»ˆç«¯1: å¯åŠ¨API
   dotnet run --project MathComicGenerator.Api
   
   # ç»ˆç«¯2: å¯åŠ¨Web
   dotnet run --project MathComicGenerator.Web
   ```

2. **æ£€æŸ¥APIåŸºåœ°å€é…ç½®**:
   ```csharp
   // Startup.cs
   services.AddHttpClient("API", client =>
   {
       client.BaseAddress = new Uri("https://localhost:7109/");
   });
   ```

3. **éªŒè¯APIå¯è®¿é—®æ€§**:
   ```bash
   curl https://localhost:7109/api/comic/health
   ```

### 3. JavaScriptäº’æ“ä½œé”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
System.InvalidOperationException: JavaScript interop calls cannot be issued at this time. This is because the component is being statically rendered. When prerendering is enabled, JavaScript interop calls can only be performed during the OnAfterRenderAsync lifecycle method.
```

**åŸå› **: åœ¨Blazor Serverçš„é¢„æ¸²æŸ“é˜¶æ®µè°ƒç”¨äº†JavaScriptæ–¹æ³•ã€‚

**è§£å†³æ–¹æ¡ˆ**:
1. å°†JavaScriptè°ƒç”¨ç§»åˆ°`OnAfterRenderAsync`æ–¹æ³•ä¸­
2. åœ¨JavaScriptè°ƒç”¨å‘¨å›´æ·»åŠ try-catchå¤„ç†é¢„æ¸²æŸ“å¼‚å¸¸

```csharp
// âŒ é”™è¯¯åšæ³•
protected override async Task OnInitializedAsync()
{
    await JSRuntime.InvokeVoidAsync("someFunction");
}

// âœ… æ­£ç¡®åšæ³•
protected override async Task OnAfterRenderAsync(bool firstRender)
{
    if (firstRender)
    {
        try
        {
            await JSRuntime.InvokeVoidAsync("someFunction");
        }
        catch (InvalidOperationException)
        {
            // å¿½ç•¥é¢„æ¸²æŸ“é˜¶æ®µçš„JavaScriptè°ƒç”¨é”™è¯¯
        }
    }
}
```

### 2. APIè¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
HttpRequestException: Connection refused
```

**å¯èƒ½åŸå› **:
- APIæœåŠ¡æœªå¯åŠ¨
- ç«¯å£é…ç½®é”™è¯¯
- é˜²ç«å¢™é˜»æ­¢è¿æ¥

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®ä¿APIæœåŠ¡æ­£åœ¨è¿è¡Œï¼š
   ```bash
   dotnet run --project MathComicGenerator.Api
   ```

2. æ£€æŸ¥ç«¯å£é…ç½®ï¼š
   ```json
   // launchSettings.json
   {
     "profiles": {
       "https": {
         "applicationUrl": "https://localhost:7001;http://localhost:7000"
       }
     }
   }
   ```

3. éªŒè¯APIå¯è®¿é—®æ€§ï¼š
   ```bash
   curl https://localhost:7001/api/comic/health
   ```

### 3. Gemini APIå¯†é’¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
GeminiAPIException: API request failed: Unauthorized
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥APIå¯†é’¥é…ç½®ï¼š
   ```json
   // appsettings.json
   {
     "GeminiAPI": {
       "ApiKey": "YOUR_ACTUAL_API_KEY_HERE"
     }
   }
   ```

2. éªŒè¯APIå¯†é’¥æœ‰æ•ˆæ€§ï¼š
   ```bash
   curl -H "Authorization: Bearer YOUR_API_KEY" \
        https://generativelanguage.googleapis.com/v1/models
   ```

### 4. å­˜å‚¨æƒé™é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
StorageException: Access to the path 'data' is denied
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æ•°æ®ç›®å½•æƒé™ï¼š
   ```bash
   # Windows
   icacls data /grant Users:F

   # Linux/Mac
   chmod 755 data
   ```

2. æˆ–æ›´æ”¹å­˜å‚¨è·¯å¾„ï¼š
   ```json
   // appsettings.json
   {
     "Storage": {
       "BasePath": "C:/temp/mathcomics"
     }
   }
   ```

### 5. å†…å­˜ä¸è¶³é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
OutOfMemoryException: Insufficient memory to continue the execution
```

**è§£å†³æ–¹æ¡ˆ**:
1. è°ƒæ•´èµ„æºç®¡ç†é…ç½®ï¼š
   ```json
   // appsettings.json
   {
     "ResourceManagement": {
       "MaxConcurrentRequests": 5,
       "MaxMemoryUsagePercent": 70.0
     }
   }
   ```

2. é‡å¯åº”ç”¨é‡Šæ”¾å†…å­˜ï¼š
   ```bash
   # åœæ­¢åº”ç”¨
   Ctrl+C

   # é‡æ–°å¯åŠ¨
   dotnet run --project MathComicGenerator.Web
   ```

### 6. æ•°æ®åº“è¿æ¥é”™è¯¯ (å¦‚ä½¿ç”¨æ•°æ®åº“)

**é”™è¯¯ä¿¡æ¯**:
```
SqlException: Cannot open database
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²
2. ç¡®ä¿æ•°æ®åº“æœåŠ¡è¿è¡Œ
3. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š
   ```bash
   dotnet ef database update
   ```

### 7. ç«¯å£å ç”¨é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
IOException: Failed to bind to address https://localhost:5001
```

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
   ```bash
   # Windows
   netstat -ano | findstr :5001

   # Linux/Mac
   lsof -i :5001
   ```

2. ç»ˆæ­¢å ç”¨è¿›ç¨‹æˆ–æ›´æ”¹ç«¯å£ï¼š
   ```json
   // launchSettings.json
   {
     "applicationUrl": "https://localhost:5002;http://localhost:5003"
   }
   ```

### 8. SSLè¯ä¹¦é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
The ASP.NET Core developer certificate is not trusted
```

**è§£å†³æ–¹æ¡ˆ**:
1. ä¿¡ä»»å¼€å‘è¯ä¹¦ï¼š
   ```bash
   dotnet dev-certs https --trust
   ```

2. æˆ–ç¦ç”¨HTTPSé‡å®šå‘ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰ï¼š
   ```csharp
   // Program.cs
   if (!app.Environment.IsDevelopment())
   {
       app.UseHttpsRedirection();
   }
   ```

## ğŸ”§ è°ƒè¯•æŠ€å·§

### 1. å¯ç”¨è¯¦ç»†æ—¥å¿—
```json
// appsettings.Development.json
{
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "MathComicGenerator": "Trace"
    }
  }
}
```

### 2. ä½¿ç”¨å¼€å‘è€…å·¥å…·
- **F12**: æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- **Networkæ ‡ç­¾**: æŸ¥çœ‹APIè¯·æ±‚å’Œå“åº”
- **Consoleæ ‡ç­¾**: æŸ¥çœ‹JavaScripté”™è¯¯

### 3. æ£€æŸ¥åº”ç”¨çŠ¶æ€
```bash
# å¥åº·æ£€æŸ¥
curl https://localhost:7001/api/comic/health

# ç³»ç»Ÿç»Ÿè®¡
curl https://localhost:7001/api/comic/statistics
```

### 4. æ€§èƒ½åˆ†æ
```bash
# ç›‘æ§å†…å­˜ä½¿ç”¨
dotnet-counters monitor --process-id <pid> --counters System.Runtime

# ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
dotnet-trace collect --process-id <pid>
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœä»¥ä¸Šè§£å†³æ–¹æ¡ˆéƒ½æ— æ³•è§£å†³é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶**: æ£€æŸ¥åº”ç”¨ç¨‹åºæ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
2. **é‡ç°é—®é¢˜**: è®°å½•é‡ç°é—®é¢˜çš„å…·ä½“æ­¥éª¤
3. **æ”¶é›†ä¿¡æ¯**: åŒ…æ‹¬é”™è¯¯æ¶ˆæ¯ã€ç³»ç»Ÿç¯å¢ƒã€é…ç½®æ–‡ä»¶ç­‰
4. **æäº¤Issue**: åœ¨GitHubä¸Šåˆ›å»ºè¯¦ç»†çš„é—®é¢˜æŠ¥å‘Š

### é—®é¢˜æŠ¥å‘Šæ¨¡æ¿
```markdown
## é—®é¢˜æè¿°
[ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜]

## é‡ç°æ­¥éª¤
1. [ç¬¬ä¸€æ­¥]
2. [ç¬¬äºŒæ­¥]
3. [ç¬¬ä¸‰æ­¥]

## é¢„æœŸè¡Œä¸º
[æè¿°æœŸæœ›çš„æ­£ç¡®è¡Œä¸º]

## å®é™…è¡Œä¸º
[æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ]

## ç¯å¢ƒä¿¡æ¯
- æ“ä½œç³»ç»Ÿ: [Windows/Linux/Mac]
- .NETç‰ˆæœ¬: [8.0.x]
- æµè§ˆå™¨: [Chrome/Firefox/Safari/Edge]

## é”™è¯¯æ—¥å¿—
```
[ç²˜è´´å®Œæ•´çš„é”™è¯¯å †æ ˆè·Ÿè¸ª]
```

## é™„åŠ ä¿¡æ¯
[ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯]
```

---

*æœ¬æŒ‡å—å°†æ ¹æ®ç”¨æˆ·åé¦ˆæŒç»­æ›´æ–°å’Œå®Œå–„ã€‚*